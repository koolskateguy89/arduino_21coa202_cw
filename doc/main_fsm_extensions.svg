<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="937px" preserveAspectRatio="none" style="width:841px;height:937px;background:#FFFFFF;" version="1.1" viewBox="0 0 841 937" width="841px" zoomAndPan="magnify"><defs/><g><g id="INITIALISATION"><rect fill="#F1F1F1" height="85.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="372" x="156.2223" y="7"/><line style="stroke:#181818;stroke-width:0.5;" x1="156.2223" x2="528.2223" y1="33.2969" y2="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="289.2223" y="24.9951">INITIALISATION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="352" x="161.2223" y="51.292">set topChannel, Channel::headChannel to nullptr</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293" x="161.2223" y="67.5889">set selectPressTime, pressedButton to 0</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="325" x="161.2223" y="83.8857">define custom arrow characters for UDCHARS</text></g><g id="SYNCHRONISATION"><rect fill="#F1F1F1" height="85.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="193" x="245.7223" y="153"/><line style="stroke:#181818;stroke-width:0.5;" x1="245.7223" x2="438.7223" y1="179.2969" y2="179.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="274.2223" y="170.9951">SYNCHRONISATION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="250.7223" y="197.292">set backlight to PURPLE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="250.7223" y="213.5889">send 'Q' over Serial</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="254.7223" y="229.8857">once per second</text></g><g id="AFTER_SYNC"><rect fill="#F1F1F1" height="101.4844" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="222" x="231.2223" y="315"/><line style="stroke:#181818;stroke-width:0.5;" x1="231.2223" x2="453.2223" y1="341.2969" y2="341.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="296.7223" y="332.9951">AFTER_SYNC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="236.2223" y="359.292">send list of implemented</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="240.2223" y="375.5889">extensions over Serial</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="236.2223" y="391.8857">set backlight to WHITE</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="202" x="236.2223" y="408.1826">read channels from EEPROM</text></g><g id="MAIN_LOOP"><rect fill="#F1F1F1" height="85.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="232.2223" y="477"/><line style="stroke:#181818;stroke-width:0.5;" x1="232.2223" x2="452.2223" y1="503.2969" y2="503.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="301.2223" y="494.9951">MAIN_LOOP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="237.2223" y="521.292">display channels</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="237.2223" y="537.5889">process incoming messages</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="237.2223" y="553.8857">wait for button press</text></g><g id="SELECT_HELD"><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="87.7226" y="684"/><line style="stroke:#181818;stroke-width:0.5;" x1="87.7226" x2="298.7226" y1="710.2969" y2="710.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="143.7226" y="701.9951">SELECT_HELD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="92.7226" y="728.292">wait for SELECT to be held</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="96.7226" y="744.5889">for 1s or released</text></g><g id="SELECT_AWAITING_RELEASE"><rect fill="#F1F1F1" height="101.4844" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="261" x="446.7223" y="830"/><line style="stroke:#181818;stroke-width:0.5;" x1="446.7223" x2="707.7223" y1="856.2969" y2="856.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="475.2223" y="847.9951">SELECT_AWAITING_RELEASE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="451.7223" y="874.292">display student ID</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="241" x="451.7223" y="890.5889">display amount of available SRAM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="451.7223" y="906.8857">process incoming messages</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="451.7223" y="923.1826">wait for SELECT to be released</text></g><g id="BUTTON_PRESSED"><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="288" x="365.2223" y="684"/><line style="stroke:#181818;stroke-width:0.5;" x1="365.2223" x2="653.2223" y1="710.2969" y2="710.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="443.7223" y="701.9951">BUTTON_PRESSED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268" x="370.2223" y="728.292">wait for stored button to be released</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="370.2223" y="744.5889">process incoming messages</text></g><ellipse cx="111.2223" cy="49.5" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><!--MD5=[3ec12403bae093b1723f4bc08d98626c]
link *start to INITIALISATION--><g id="link_*start_INITIALISATION"><path d="M121.5993,49.5 C131.3843,49.5 141.1703,49.5 150.9553,49.5 " fill="none" id="*start-to-INITIALISATION" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="156.0723,49.5,147.0723,45.5,151.0723,49.5,147.0723,53.5,156.0723,49.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5fb86aa279547df1f96dd838cf058114]
link INITIALISATION to SYNCHRONISATION--><g id="link_INITIALISATION_SYNCHRONISATION"><path d="M342.2223,92.151 C342.2223,109.464 342.2223,129.644 342.2223,147.486 " fill="none" id="INITIALISATION-to-SYNCHRONISATION" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="342.2223,152.943,346.2223,143.943,342.2223,147.943,338.2223,143.943,342.2223,152.943" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5fd8f6814702ef14bc24a5e169ba41ce]
link SYNCHRONISATION to AFTER_SYNC--><g id="link_SYNCHRONISATION_AFTER_SYNC"><path d="M342.2223,238.028 C342.2223,259.618 342.2223,286.288 342.2223,309.563 " fill="none" id="SYNCHRONISATION-to-AFTER_SYNC" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="342.2223,314.782,346.2223,305.782,342.2223,309.782,338.2223,305.782,342.2223,314.782" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="343.2223" y="281.0669">'X' received from Serial</text></g><!--MD5=[f52058913ae07df723de8f0f0d3b4471]
link AFTER_SYNC to MAIN_LOOP--><g id="link_AFTER_SYNC_MAIN_LOOP"><path d="M342.2223,416.27 C342.2223,434.003 342.2223,453.908 342.2223,471.409 " fill="none" id="AFTER_SYNC-to-MAIN_LOOP" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="342.2223,476.758,346.2223,467.758,342.2223,471.758,338.2223,467.758,342.2223,476.758" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c126b1e4d7eab0d479381b674de68b74]
link MAIN_LOOP to SELECT_HELD--><g id="link_MAIN_LOOP_SELECT_HELD"><path d="M232.1553,530.638 C150.6083,540.694 49.2956,559.436 23.2226,592 C6,613.51 7.5125,631.362 23.2226,654 C37.5362,674.626 59.4109,688.564 82.7525,697.979 " fill="none" id="MAIN_LOOP-to-SELECT_HELD" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="87.4385,699.802,80.5015,692.8108,82.7788,697.989,77.6006,700.2663,87.4385,699.802" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="33.2226" y="612.5669">SELECT pressed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="79.2226" y="627.6997">---</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="28.2226" y="642.8325">store pressed time</text></g><!--MD5=[5194734bf9344961dcb31cf84b0d1e8a]
link SELECT_HELD to MAIN_LOOP--><g id="link_SELECT_HELD_MAIN_LOOP"><path d="M182.8423,683.878 C176.6403,656.924 172.9373,619.233 190.2223,592 C199.4993,577.385 212.6463,565.703 227.3693,556.38 " fill="none" id="SELECT_HELD-to-MAIN_LOOP" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="231.9873,553.562,222.2214,554.8372,227.7197,556.1672,226.3896,561.6654,231.9873,553.562" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="191.2223" y="627.5669">SELECT released</text></g><!--MD5=[8b8b14d573a36e3ee028803093066248]
link MAIN_LOOP to BUTTON_PRESSED--><g id="link_MAIN_LOOP_BUTTON_PRESSED"><path d="M329.4033,562.077 C323.3143,590.443 320.8503,627.526 339.2223,654 C346.6753,664.74 356.1783,673.666 366.8703,681.085 " fill="none" id="MAIN_LOOP-to-BUTTON_PRESSED" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="371.1893,683.961,365.9137,675.6443,367.0271,681.1905,361.4809,682.3038,371.1893,683.961" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="340.2223" y="605.0669">UP/DOWN/LEFT/RIGHT pressed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="370.7223" y="620.1997">store pressed button</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15" x="432.2223" y="635.3325">---</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="353.2223" y="650.4653">change displayed channels</text></g><!--MD5=[06066d4354d0fa2248f6f57fe126373b]
link BUTTON_PRESSED to MAIN_LOOP--><g id="link_BUTTON_PRESSED_MAIN_LOOP"><path d="M532.9713,683.934 C548.8283,657.012 563.5453,619.337 544.2223,592 C523.8583,563.19 490.8613,545.913 457.3843,535.578 " fill="none" id="BUTTON_PRESSED-to-MAIN_LOOP" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="452.4433,534.103,459.923,540.5104,457.2344,535.5333,462.2115,532.8447,452.4433,534.103" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="554.2223" y="627.5669">stored button released</text></g><!--MD5=[1d3024749ed6c0735b8f63ff4645373f]
link SELECT_HELD to SELECT_AWAITING_RELEASE--><g id="link_SELECT_HELD_SELECT_AWAITING_RELEASE"><path d="M273.7213,753.041 C325.7023,774.7 394.3683,803.311 453.2373,827.839 " fill="none" id="SELECT_HELD-to-SELECT_AWAITING_RELEASE" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="458.1783,829.898,451.4113,822.7421,453.5635,827.9735,448.3321,830.1257,458.1783,829.898" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="386.2223" y="796.0669">SELECT held for 1s</text></g><!--MD5=[a2324058b0dd4a5bd048c8319041bad3]
link SELECT_AWAITING_RELEASE to MAIN_LOOP--><g id="link_SELECT_AWAITING_RELEASE_MAIN_LOOP"><path d="M630.4513,829.968 C689.5243,769.018 769.1213,664.694 709.2223,592 C677.6923,553.734 553.1033,535.677 457.7473,527.336 " fill="none" id="SELECT_AWAITING_RELEASE-to-MAIN_LOOP" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="452.6573,526.897,461.2813,531.6537,457.6389,527.3256,461.9671,523.6832,452.6573,526.897" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="726.2223" y="723.0669">SELECT released</text></g><!--MD5=[b7ee9b9771de91e3a2c3baaf3b040a1d]
@startuml
hide empty description

INITIALISATION: set topChannel, Channel::headChannel to nullptr\nset selectPressTime, pressedButton to 0\n//define custom arrow characters for UDCHARS//
SYNCHRONISATION: set backlight to PURPLE\nsend 'Q' over Serial\n once per second
AFTER_SYNC: send list of implemented\n extensions over Serial\nset backlight to WHITE\n//read channels from EEPROM//
MAIN_LOOP: display channels\nprocess incoming messages\nwait for button press
SELECT_HELD: wait for SELECT to be held\n for 1s or released
SELECT_AWAITING_RELEASE: display student ID\n//display amount of available SRAM//\nprocess incoming messages\nwait for SELECT to be released
BUTTON_PRESSED: wait for stored button to be released\nprocess incoming messages

[*] -> INITIALISATION
INITIALISATION - -> SYNCHRONISATION
SYNCHRONISATION - -> AFTER_SYNC: 'X' received from Serial
AFTER_SYNC - -> MAIN_LOOP

MAIN_LOOP - -> SELECT_HELD: SELECT pressed \n- - -\n store pressed time
MAIN_LOOP - -> BUTTON_PRESSED: UP/DOWN/LEFT/RIGHT pressed \nstore pressed button \n- - -\nchange displayed channels

SELECT_HELD - -> SELECT_AWAITING_RELEASE: SELECT held for 1s
SELECT_HELD - -> MAIN_LOOP: SELECT released
SELECT_AWAITING_RELEASE - -> MAIN_LOOP: SELECT released

BUTTON_PRESSED - -> MAIN_LOOP: stored button released
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>